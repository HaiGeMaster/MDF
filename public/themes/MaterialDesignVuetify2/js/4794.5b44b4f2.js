"use strict";(self["webpackChunkMaterialDesignForum"]=self["webpackChunkMaterialDesignForum"]||[]).push([[4794],{3053:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var i=a(3162),s=a(9618),n=a(3913),o=a(9698),r=a(7298),l=a(5989),m=a(2335),c=a(4408),d=a(9248),u=a(496),p=a(790),h=a(6894),v=a(1169),_=a(7039),g=function(){var e=this,t=e._self._c;return t("FabDialog",{attrs:{name_id:"search_fab_dialog",model:e.vmodel,icon:"mdi-magnify",title:e.$t("Message.Components.Search.SearchTooltop")+`(${e.pagination.total})`},on:{model:function(t){e.vmodel=t}}},[t(h.Z,{attrs:{grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(_.Z),e._l(e.tab_items,(function(a){return t(u.Z,{key:a.value},[t(s.Z,{staticStyle:{"padding-right":"8px"},attrs:{small:""}},[e._v(e._s(a.icon))]),e._v(" "+e._s(a.text)+" ")],1)}))],2),e.IsLoading?t(c.Z,{attrs:{indeterminate:""}}):e._e(),t(v.Z,{staticClass:"layout-colourless",staticStyle:{height:"100%","overflow-y":"scroll"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(p.Z,[t(o.Z,{staticClass:"layout-colourless",staticStyle:{"margin-bottom":"48px"}},[t(d.Z,[e._v(" "+e._s(e.$t("Message.Components.Search.SearchTooltop")+": "+e.value)+" ")]),e._l(e.topics,(function(a,s){return null!=e.topics?t(r.Z,{key:`topics_${s}`,attrs:{to:`${e.$G_UrlHeaderLang()}/topics/${a.topic_id}`}},[t(i.Z,{staticStyle:{"max-width":"150px",margin:"8px 8px 8px 0"},attrs:{outlined:"",rounded:e.$store.getters.GetDevice.mobile?"0":"xxl"}},[t(n.Z,{attrs:{src:e.$G_ImgHandle(a.cover.middle)}})],1),t(m.km,[t(m.V9,[e._v(" "+e._s(a.name)+" ")]),t(m.oZ,[e._v(" "+e._s(a.description)+" ")])],1)],1):e._e()}))],2)],1),t(p.Z,[t(o.Z,{staticClass:"layout-colourless",staticStyle:{"margin-bottom":"48px"}},[t(d.Z,[e._v(" "+e._s(e.$t("Message.Components.Search.SearchTooltop")+": "+e.value)+" ")]),e._l(e.questions,(function(a,i){return null!=e.questions?t(r.Z,{key:`questions_${i}`,attrs:{to:`${e.$G_UrlHeaderLang()}/questions/${a.question_id}`}},[t(l.Z,[t(n.Z,{attrs:{src:e.$G_ImgHandle(a.user.avatar.small)}})],1),t(m.km,[t(m.V9,[e._v(" "+e._s(a.title)+" ")]),t(m.oZ,[e._v(" "+e._s(a.content_markdown)+" ")])],1)],1):e._e()}))],2)],1),t(p.Z,[t(o.Z,{staticClass:"layout-colourless",staticStyle:{"margin-bottom":"48px"}},[t(d.Z,[e._v(" "+e._s(e.$t("Message.Components.Search.SearchTooltop")+": "+e.value)+" ")]),e._l(e.articles,(function(a,i){return null!=e.articles?t(r.Z,{key:`articles_${i}`,attrs:{to:`${e.$G_UrlHeaderLang()}/articles/${a.article_id}`}},[t(l.Z,[t(n.Z,{attrs:{src:e.$G_ImgHandle(a.user.avatar.small)}})],1),t(m.km,[t(m.V9,[e._v(" "+e._s(a.title)+" ")]),t(m.oZ,[e._v(" "+e._s(a.content_markdown)+" ")])],1)],1):e._e()}))],2)],1),t(p.Z,[t(o.Z,{staticClass:"layout-colourless",staticStyle:{"margin-bottom":"48px"}},[t(d.Z,[e._v(" "+e._s(e.$t("Message.Components.Search.SearchTooltop")+": "+e.value)+" ")]),e._l(e.answers,(function(a,i){return null!=e.answers?t(r.Z,{key:`answers_${i}`,attrs:{to:`${e.$G_UrlHeaderLang()}/questions/${a.question_id}/answers/${a.answer_id}`}},[t(l.Z,[t(n.Z,{attrs:{src:e.$G_ImgHandle(a.user.avatar.small)}})],1),t(m.km,[t(m.V9,[e._v(" "+e._s(a.content_markdown)+" ")]),t(m.oZ,[e._v(" "+e._s(a.user.username)+" ")])],1)],1):e._e()}))],2)],1),t(p.Z,[t(o.Z,{staticClass:"layout-colourless",staticStyle:{"margin-bottom":"48px"}},[t(d.Z,[e._v(" "+e._s(e.$t("Message.Components.Search.SearchTooltop")+": "+e.value)+" ")]),e._l(e.comments,(function(a,i){return null!=e.comments?t(r.Z,{key:`comments_${i}`,attrs:{to:"question"==a.commentable_type?`${e.$G_UrlHeaderLang()}/questions/${a.commentable_id}`:"answer"==a.commentable_type?`${e.$G_UrlHeaderLang()}/questions/${a.commentable_id}/answers/${a.commentable_id}`:"article"==a.commentable_type?`${e.$G_UrlHeaderLang()}/articles/${a.commentable_id}`:""}},[t(l.Z,[t(n.Z,{attrs:{src:e.$G_ImgHandle(a.user.avatar.small)}})],1),t(m.km,[t(m.V9,[e._v(" "+e._s(a.content)+" ")]),t(m.oZ,[e._v(" "+e._s(a.user.username)+" ")])],1)],1):e._e()}))],2)],1),t(p.Z,[t(o.Z,{staticClass:"layout-colourless",staticStyle:{"margin-bottom":"48px"}},[t(d.Z,[e._v(" "+e._s(e.$t("Message.Components.Search.SearchTooltop")+": "+e.value)+" ")]),e._l(e.replys,(function(a,i){return null!=e.replys?t(r.Z,{key:`replys_${i}`,attrs:{to:"question"==a.replyable_parent_type?`${e.$G_UrlHeaderLang()}/questions/${a.replyable_parent_id}`:"article"==a.replyable_parent_type?`${e.$G_UrlHeaderLang()}/articles/${a.replyable_parent_id}`:""}},[t(l.Z,[t(n.Z,{attrs:{src:e.$G_ImgHandle(a.user.avatar.small)}})],1),t(m.km,[t(m.V9,[e._v(" "+e._s(a.content)+" ")]),t(m.oZ,[e._v(" "+e._s(a.user.username)+" ")])],1)],1):e._e()}))],2)],1),t(p.Z,[t(o.Z,{staticClass:"layout-colourless",staticStyle:{"margin-bottom":"48px"}},[t(d.Z,[e._v(" "+e._s(e.$t("Message.Components.Search.SearchTooltop")+": "+e.value)+" ")]),e._l(e.users,(function(a,i){return null!=e.users?t(r.Z,{key:`users_${i}`,attrs:{to:`${e.$G_UrlHeaderLang()}/users/${a.user_id}`}},[t(l.Z,[t(n.Z,{attrs:{src:e.$G_ImgHandle(a.avatar.small)}})],1),t(m.km,[t(m.V9,[e._v(" "+e._s(a.username)+" ")]),t(m.oZ,[e._v(" "+e._s(a.headline)+" ")])],1)],1):e._e()}))],2)],1)],1)],1)},f=[],$=a(4481),b=a(7079),w={name:"FabDialogSearch",components:{FabDialog:$.Z},props:{model:{type:String,default:"close"},value:{type:String,default:""}},data(){return{tab:"topics",vmodel:"close",topics:null,questions:null,articles:null,answers:null,comments:null,replys:null,users:null,IsLoading:!1,pagination:{page:0,per_page:20,total:0,pages:0,previous:0,next:1}}},computed:{tab_items(){return[{text:this.$t("Message.Components.DrawerNavigation.Topics"),icon:"mdi-book-variant",value:"topics"},{text:this.$t("Message.Components.DrawerNavigation.Questions"),icon:"mdi-forum",value:"questions"},{text:this.$t("Message.Components.DrawerNavigation.Articles"),icon:"mdi-file-document",value:"articles"},{text:this.$t("Message.Components.DrawerNavigation.Answers"),icon:"mdi-message-reply",value:"answers"},{text:this.$t("Message.Components.DrawerNavigation.Comments"),icon:"mdi-message-reply-text",value:"comments"},{text:this.$t("Message.Components.DrawerNavigation.Replts"),icon:"mdi-reply-all",value:"replys"},{text:this.$t("Message.Components.DrawerNavigation.User"),icon:"mdi-account-multiple",value:"users"}]}},methods:{async GetData(e){try{this.IsLoading=!0;var t=this.$G_GetUserToken();const a=await(0,b.Y6)(e,{order:"-update_time",page:this.pagination.next,type:"",question_id:"",commentable_id:"",commentable_type:"",replyable_comment_id:"",user_token:""!=t?t:"",search_keywords:this.value});if(1==a.data.is_get){switch(e){case"topics":this.topics=a.data.data;break;case"questions":this.questions=a.data.data;break;case"articles":this.articles=a.data.data;break;case"answers":this.answers=a.data.data;break;case"comments":this.comments=a.data.data;break;case"replys":this.replys=a.data.data;break;case"users":this.users=a.data.data;break}this.pagination.total=a.data.pagination.total,this.pagination.pages=a.data.pagination.pages,this.pagination.previous=a.data.pagination.previous,this.pagination.next=a.data.pagination.next,this.pagination.page=a.data.pagination.page,this.pagination.per_page=a.data.pagination.per_page,this.$forceUpdate(),this.IsLoading=!1}else this.IsLoading=!1}catch(a){this.IsLoading=!1}},StartSearch(){if(""!=this.value)switch(this.pagination={page:0,per_page:20,total:0,pages:0,previous:0,next:1},this.tab_items[this.tab].value){case"topics":this.topics=null,this.GetData("topics");break;case"questions":this.questions=null,this.GetData("questions");break;case"articles":this.articles=null,this.GetData("articles");break;case"answers":this.answers=null,this.GetData("answers");break;case"comments":this.comments=null,this.GetData("comments");break;case"replys":this.replys=null,this.GetData("replys");break;case"users":this.users=null,this.GetData("users");break}else this.vmodel="close"}},watch:{value(e){this.StartSearch()},vmodel(e){"close"==e&&this.$emit("model",e)},model(e){this.vmodel=e},tab(e){this.StartSearch()}}},y=w,x=a(1001),Z=(0,x.Z)(y,g,f,!1,null,null,null),k=Z.exports},4481:function(e,t,a){a.d(t,{Z:function(){return p}});var i=a(4780),s=a(3162),n=a(4681),o=a(9618),r=function(){var e=this,t=e._self._c;return t(n.Fx,[t(s.Z,{directives:[{name:"show",rawName:"v-show",value:"open"==e.vmodel||"maximize"==e.vmodel||"moderate"==e.vmodel,expression:"vmodel == 'open' ||\n      vmodel == 'maximize' ||\n      vmodel == 'moderate'\n      "}],ref:"card_name_id",class:["mc-fab-dialog","glass-container",{maximize:"xs"!=e.$vuetify.breakpoint.name&&"maximize"==e.vmodel,minimize:"minimize"==e.vmodel}],attrs:{id:e.name_id,elevation:"maximize"==e.vmodel?e.$store.getters["FabDialog/GetFabDialogName"]==e.name_id?e.elevation:e.elevation-4:"minimize"==e.vmodel?e.$store.getters["FabDialog/GetFabDialogName"]==e.name_id?e.elevation-4:e.elevation-8:e.$store.getters["FabDialog/GetFabDialogName"]==e.name_id?e.elevation-8:e.elevation-16,rounded:e.$store.getters.GetDevice.mobile?"0":"xxl"},on:{focus:function(t){return e.onFocus()}}},[t("div",{class:["header","glass-container"]},[t("div",{ref:"header_title",class:["header-title",{"white--text":e.$vuetify.theme.dark,"black--text":!e.$vuetify.theme.dark}],on:{dblclick:function(t){"moderate"==e.vmodel?e.EditorStateUpdate("maximize"):e.EditorStateUpdate("moderate")},click:function(t){return e.onFocus()}}},[-1!=e.icon.indexOf("mdi-")?t(o.Z,{attrs:{color:e.$vuetify.theme.dark?"white":"black"}},[e._v(e._s(e.icon))]):t("img",{style:{width:"24px",height:"24px","margin-right":"8px"},attrs:{src:e.icon}}),e._v(" Â  "+e._s(-1==e.title.indexOf("Message")?e.title:e.$t(e.title))+" ")],1),t("div",{staticClass:"header-actions"},[t(i.Z,{attrs:{small:"xs"!=e.$vuetify.breakpoint.name,text:"",icon:"",title:e.$t("Message.Components.Editor.Minimize")},on:{click:function(t){"minimize"==e.vmodel?e.vmodel="maximize":e.vmodel="minimize"}}},[t(o.Z,{attrs:{color:e.$vuetify.theme.dark?"white":"black"}},[e._v("mdi-window-minimize")])],1),t(i.Z,{directives:[{name:"show",rawName:"v-show",value:"xs"!=e.$vuetify.breakpoint.name,expression:"$vuetify.breakpoint.name != 'xs'"}],attrs:{small:"xs"!=e.$vuetify.breakpoint.name,text:"",icon:"",title:e.$t("Message.Components.Editor.Maximize")},on:{click:function(t){"maximize"==e.vmodel?e.EditorStateUpdate("moderate"):e.EditorStateUpdate("maximize")}}},[t(o.Z,{attrs:{color:e.$vuetify.theme.dark?"white":"black"}},[e._v(" "+e._s("maximize"==e.vmodel?"mdi-fullscreen-exit":"mdi-window-maximize")+" ")])],1),t(i.Z,{attrs:{small:"xs"!=e.$vuetify.breakpoint.name,text:"",icon:"",title:e.$t("Message.Components.Editor.Close")},on:{click:function(t){e.vmodel="close"}}},[t(o.Z,{attrs:{color:e.$vuetify.theme.dark?"white":"black"}},[e._v("mdi-close")])],1)],1)]),t("div",{staticClass:"body",on:{focus:function(t){return e.onFocus()}}},[e._t("default")],2)])],1)},l=[],m={name:"fab-dialog",props:{title:{type:String,default:""},model:{type:String,default:"close"},icon:{type:String,default:"mdi-message-text"},name_id:{type:String,default:""},route_update_close:{type:Boolean,default:!1}},components:{},data:()=>({vmodel:"close",elevation:20}),mounted(){const e=this.$refs.header_title;var t=this;e.addEventListener("touchstart",(function(e){if(t.$store.getters.GetDevice.mobile)return;e.preventDefault();const a=e.touches[0].clientX,i=e.touches[0].clientY,s=document.getElementById(t.name_id),n=s.getBoundingClientRect(),o=n.left,r=n.top;function l(e){t.onFocus();const n=e.touches[0].clientX-a,l=e.touches[0].clientY-i;s.style.left=`${o+n}px`,s.style.top=`${r+l}px`}function m(){document.removeEventListener("touchmove",l),document.removeEventListener("touchend",m)}document.addEventListener("touchmove",l),document.addEventListener("touchend",m)})),e.addEventListener("mousedown",(function(e){e.preventDefault();const a=e.clientX,i=e.clientY,s=document.getElementById(t.name_id),n=s.getBoundingClientRect(),o=n.left,r=n.top;function l(e){if(t.onFocus(),t.$store.getters.GetDevice.mobile)return s.style.left="0px",void(s.style.top="0px");const n=e.clientX-a,l=e.clientY-i;s.style.left=`${o+n}px`,s.style.top=`${r+l}px`}function m(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",m)}document.addEventListener("mousemove",l),document.addEventListener("mouseup",m)}))},methods:{onFocus(){this.$store.dispatch("FabDialog/Set_FabDialogName",this.name_id);const e=document.getElementById(this.name_id),t=document.getElementsByClassName("v-application--wrap")[0];t.appendChild(e)},ResetEditorPos(){if("minimize"==this.vmodel||"close"==this.vmodel)return;const e=document.getElementById(this.name_id);e.style.left="0px",e.style.top="0px"},EditorStateUpdate(e){"moderate"==e?(this.vmodel="close",setTimeout((()=>{this.vmodel="moderate"}),700)):"maximize"==e&&(this.vmodel="close",setTimeout((()=>{this.vmodel="maximize"}),500))}},watch:{model(e){this.vmodel=e,this.$store.dispatch("FabDialog/Set_FabDialogName",this.name_id)},vmodel(e){this.$emit("model",e)},$route(e,t){this.route_update_close},"$store.getters.GetDevice.mobile":{handler:function(e,t){e&&this.ResetEditorPos()},immediate:!0},ReturnFabDialogGetFabDialogName(e){e==this.name_id?this.elevation=24:this.elevation=8}},computed:{ReturnFabDialogGetFabDialogName(){return this.$store.getters["FabDialog/GetFabDialogName"]}}},c=m,d=a(1001),u=(0,d.Z)(c,r,l,!1,null,null,null),p=u.exports},790:function(e,t,a){a.d(t,{Z:function(){return c}});var i=a(5192),s=a(3768),n=a(3019),o=a(3893),r=a(5218);const l=(0,r.Z)(i.Z,(0,s.d)("windowGroup","v-window-item","v-window"));var m=l.extend().extend().extend({name:"v-window-item",directives:{Touch:n.Z},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data(){return{isActive:!1,inTransition:!1}},computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return(0,o.z9)(this)},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=(0,o.kb)(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(e){this.inTransition&&this.$nextTick((()=>{this.computedTransition&&this.inTransition&&(this.windowGroup.transitionHeight=(0,o.kb)(e.clientHeight))}))}},render(e){return e("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((()=>[this.genWindowItem()])))}}),c=m.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem(){const e=m.options.methods.genWindowItem.call(this);return e.data.domProps=e.data.domProps||{},e.data.domProps.id=this.id||this.value,e}}})}}]);