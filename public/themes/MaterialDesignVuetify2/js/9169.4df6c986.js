"use strict";(self["webpackChunkMaterialDesignForum"]=self["webpackChunkMaterialDesignForum"]||[]).push([[9169],{9169:function(a,t,e){e.r(t),e.d(t,{default:function(){return _}});var s=e(4780),n=e(4681),i=e(9618),l=e(9698),g=e(7298),o=e(5989),r=e(2335),u=e(5e3),h=e(7690),c=e(3468),L=function(){var a=this,t=a._self._c;return t(c.Z,{attrs:{bottom:"",disabled:a.LanguageMenu},scopedSlots:a._u([{key:"activator",fn:function({on:e,attrs:c}){return[t(h.Z,{attrs:{rounded:"xxl","offset-y":"","max-width":"350",transition:"scroll-y-transition"},scopedSlots:a._u([{key:"activator",fn:function({on:l,attrs:g}){return[t(s.Z,a._g(a._b({directives:[{name:"show",rawName:"v-show",value:a.show&&a.LanguageList.length>=2,expression:"show && LanguageList.length >= 2"}],attrs:{icon:"",loading:a.is_loading}},"v-btn",Object.assign({},c,g),!1),Object.assign({},e,l)),[t(n.Zq,["mdi"==a.translate_type?t(i.Z,[a._v(a._s(a.translate_icon))]):t("span",{class:`langicon fi fi-${a.$t("Message.langInfo.flagicon")}`})],1)],1)]}}],null,!0),model:{value:a.LanguageMenu,callback:function(t){a.LanguageMenu=t},expression:"LanguageMenu"}},[t(l.Z,{attrs:{dense:"","two-line":""}},[t(u.Z,{style:"overflow-y: auto;max-height: 485px;min-height: 100px;"},a._l(a.LanguageList,(function(e,s){return t(g.Z,{key:`LanguageButton_${s}`,class:e.locale==a.$i18n.locale?"v-item--active v-list-item--active":"",attrs:{color:"primary",disabled:!e.usability},on:{click:function(t){return a.SetLanguage(e.locale,!0)}}},[t(o.Z,[t("span",{class:`langicon fi fi-${e.flagicon}`})]),t(r.km,[t(r.V9,[a._v(a._s(e.text))]),t(r.oZ,[a._v(a._s(e.langinfo.LanguageMaker))])],1)],1)})),1)],1)],1)]}}])},[t("span",[a._v("Language: "+a._s(a.$t("Message.langInfo.langname")))])])},f=[],$=e(3960),p=e(7079),d={name:"language-button",props:{show:{type:Boolean,default:!0}},data(){return{vmodel:null,LanguageMenu:!1,LanguageList:[],IsMounted:!1,is_loading:!1,Messages:null,translate_icon:"mdi-translate",translate_type:"mdi"}},methods:{async getLocaleInfoList(){const a=await(0,p.Nu)();if(null!=a.data){this.Messages=a.data,this.$store.dispatch("Set_LangMessages",a.data),this.LanguageList=[];for(let a in this.Messages)if(this.Messages[a].Message.langInfo.show){const t=this.Messages[a].Message.langInfo.langname,e=this.Messages[a].Message.langInfo.usability,s=this.Messages[a].Message.langInfo.flagicon,n=$.Z[a].Message.langInfo;this.LanguageList.push({text:t,locale:a,usability:e,flagicon:s,langinfo:n})}this.SetLanguageAsLocale()}},SetLocaleCode(a){this.ValForLanguageList(a)&&(document.querySelector("html").setAttribute("lang",a),localStorage.setItem("lang",a),(0,p.I1)("lang",a),this.$i18n.locale=a)},SetLanguageList(){for(let a in $.Z)if($.Z[a].Message.langInfo.show){const t=$.Z[a].Message.langInfo.langname,e=$.Z[a].Message.langInfo.usability,s=$.Z[a].Message.langInfo.flagicon,n=$.Z[a].Message.langInfo;this.LanguageList.push({text:t,locale:a,usability:e,flagicon:s,langinfo:n})}this.getLocaleInfoList()},SetLanguage(a,t=!1){a!=this.$i18n.locale&&t&&this.ValForLanguageList(a)&&this.SetRouteLang(a)},async LoadLanguage(a){this.is_loading=!0;try{if(this.ValForLanguageList(a)){const t=await this.$axios.get(`/language/get/${a}`);t.data.hasOwnProperty("Message")&&(this.$i18n.setLocaleMessage(a,t.data),this.SetLocaleCode(a),this.is_loading=!1)}}catch(t){this.is_loading=!1}},SetRouteLang(a){var t=this.$route.path.split("/"),e=this.$route.hash;this.$route.params.hasOwnProperty("lang")?5==t.length?this.$router.push({path:`/${a}/${t[2]}/${t[3]}/${t[4]}${e}`}):4==t.length?this.$router.push({path:`/${a}/${t[2]}/${t[3]}${e}`}):3==t.length?this.$router.push({path:`/${a}/${t[2]}${e}`}):this.$router.push({path:`/${a}/`}):4==t.length?this.$router.push({path:`/${a}/${t[1]}/${t[2]}/${t[3]}${e}`}):3==t.length?this.$router.push({path:`/${a}/${t[1]}/${t[2]}${e}`}):2==t.length?this.$router.push({path:`/${a}/${t[1]}${e}`}):this.$router.push({path:`/${a}/`})},ValForLanguageList(a){for(let t=0;t<this.LanguageList.length;t++)if(this.LanguageList[t].locale==a)return!0;return!1},SetLanguageAsLocale(){if(this.$route.params.hasOwnProperty("lang")){var a=this.$route.params.lang;this.ValForLanguageList(a)&&this.LoadLanguage(a)}else{var t=localStorage.getItem("lang")||document.querySelector("html").getAttribute("lang")||this.$i18n.fallbackLocale;this.ValForLanguageList(t)&&this.LoadLanguage(t)}},SetTranslateIcon(){setInterval((()=>{"mdi"==this.translate_type?this.translate_type="fi":this.translate_type="mdi"}),5e3)}},mounted(){this.SetLanguageList()},created(){this.SetTranslateIcon()},watch:{"$route.params":{handler(){var a=this.$route.params.lang||localStorage.getItem("lang")||document.querySelector("html").getAttribute("lang")||this.$i18n.fallbackLocale;this.$i18n.locale!=a&&this.SetLanguageAsLocale(),this.$route.params.hasOwnProperty("lang")},immediate:!0}}},m=d,M=e(1001),y=(0,M.Z)(m,L,f,!1,null,null,null),_=y.exports}}]);