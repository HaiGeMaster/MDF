"use strict";(self["webpackChunkMaterialDesignForum"]=self["webpackChunkMaterialDesignForum"]||[]).push([[5617,2311,9682,9074],{7788:function(t,e,n){n.r(e),n.d(e,{default:function(){return G}});var s=n(4780),a=n(3162),i=n(8112),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mc-answers-page"},[null!=t.question&&null==t.answer?e("ListHeader",{attrs:{title:t.$t("Message.Client.Question.NAnswers",{value:t.pagination.total}),type:"topics"},on:{menu_order_item_select:t.menu_order_item_select,OnInit:e=>{t.order=e}}}):t._e(),e(s.Z,{directives:[{name:"show",rawName:"v-show",value:null!=t.answer&&1!=t.question.answer_count,expression:"answer != null&&question.answer_count!=1"}],staticStyle:{"margin-top":"16px"},attrs:{block:"",color:"primary",depressed:"",rounded:"",href:`${t.$G_UrlHeaderLang()}/questions/${t.question.question_id}`}},[t._v(" "+t._s(t.$t("Message.Client.Question.LookAllNAnswers",{value:t.question.answer_count}))+" ")]),e(a.Z,{class:["glass-container","answers"],style:{"margin-top":"xs"!=t.$vuetify.breakpoint.name?"20px":"10px"},attrs:{rounded:t.$store.getters.GetDevice.mobile?"0":"xxl",outlined:""}},[t._l(t.data,(function(n,s){return[0!=s?e(i.Z):t._e(),e("AnswersItem",{attrs:{answer:n,question:t.question}})]})),null!=t.answer?e("AnswersItem",{attrs:{answer:t.answer,question:t.question}}):t._e(),e("Empty",{attrs:{show:null==t.data&&null==t.answer}})],2),null!=t.data?e("Loading",{attrs:{loading:t.is_loading,pagination:t.pagination},on:{autoload:t.GetAnswers}}):t._e()],1)},r=[],l=n(3231),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"item"},[e("UserLine",{attrs:{user:t.answer.user,time:t.$G_TimeStampToDateTime(t.answer.update_time)}}),e("TipTapEditor",{staticClass:"content",attrs:{editable:!1,content:t.answer.content_rendered}}),e("div",{staticClass:"actions"},[e("VoteButton",{attrs:{vote:t.answer.vote,vote_up_count:t.answer.vote_up_count,vote_down_count:t.answer.vote_down_count}}),e("div",{staticStyle:{"margin-left":"8px"}}),e("CommentButton",{attrs:{count:t.answer.comment_count},on:{comment_button_click:function(e){t.$store.dispatch("Dialog/Set_CommentsDialog",{model:!0,title:t.$t("Message.Client.Article.NComment",{value:t.answer.comment_count}),commentable_id:t.answer.answer_id,commentable_type:"answer",comment_count:t.answer.comment_count,return_update_comments:e=>{t.answer.comment_count++}})}}}),e(l.Z),null!=t.answer?e("OptionsButton",{attrs:{type:"answer",item:t.answer}}):t._e()],1)],1)},d=[],c=n(8210),p=n(9665),m=n(8630),_=n(6519),w=n(4843),h={name:"page-question-answer-item",components:{UserLine:c["default"],VoteButton:p["default"],CommentButton:m["default"],OptionsButton:_["default"],TipTapEditor:w["default"]},props:{answer:{type:Object,default:null}},data(){return{comments_dialog:!1}}},g=h,f=n(1001),v=(0,f.Z)(g,u,d,!1,null,null,null),$=v.exports,b=n(5373),C=n(9387),q=n(3104),y=n(7079),x={name:"answers-page",components:{AnswersItem:$,ListHeader:b.Z,Loading:C["default"],Empty:q["default"]},props:{question:{type:Object,default:null}},data:()=>({is_loading:!1,is_empty:!1,data:null,pagination:{page:0,per_page:20,total:0,pages:0,previous:0,next:1},order:"-update_time",answer:null}),methods:{menu_order_item_select(t,e){this.order=e,this.ResetData(),this.GetAnswers()},ResetData(){this.data=null,this.pagination={page:0,per_page:20,total:0,pages:0,previous:0,next:1}},async GetAnswers(){const t=(0,y.l$)();if(console.log("QUESTION_ANSWERS",t),null!==t)return this.data=t.data,void(this.pagination=t.pagination);if(null!=this.$route.params.answer_id)return;if(this.is_loading)return;this.is_loading=!0;const e=await(0,y.wS)({question_id:this.question.question_id,order:this.order,page:this.pagination.next,user_token:this.$G_GetUserToken()});1==e.data.is_get&&(null==this.data?this.data=e.data.data:this.$G_FilterSameItems("answer_id",this.data,e.data.data),this.pagination=e.data.pagination),this.is_loading=!1},async GetAnswer(){if(this.is_loading)return;this.is_loading=!0;const t=await(0,y.J)({answer_id:this.$route.params.answer_id,user_token:this.$G_GetUserToken()});1==t.data.is_get&&(this.answer=t.data.answer),this.is_loading=!1,this.$nextTick((()=>{window.scrollTo(0,document.body.scrollHeight)}))},StartEvent(){null!=this.$route.params.answer_id?this.GetAnswer():(this.ResetData(),this.GetAnswers())}},computed:{ReturnUpdateGetAnswerUpdate(){return this.$store.getters["Update/GetAnswerUpdate"]}},created(){this.StartEvent()},watch:{ReturnUpdateGetAnswerUpdate(t){if(null==this.$route.params.answer_id)if(null!=this.data){for(var e=0;e<this.data.length;e++)if(this.data[e].answer_id==t.answer_id)return this.data[e]=t,void this.$forceUpdate()}else this.ResetData(),this.GetAnswers();else this.$router.push(`${$G_UrlHeaderLang()}/questions/${this.question.question_id}`)},question(t){this.StartEvent()}}},Z=x,k=(0,f.Z)(Z,o,r,!1,null,null,null),G=k.exports},8630:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("IconButton",{attrs:{icon:"mdi-message-reply-text",text:t.$t("Message.Client.Question.CommentButton.Comment"),count:t.count},on:{icon_button_click:function(e){return t.$emit("comment_button_click")}}})},a=[],i=n(937),o={name:"page-question-comment-button",props:{count:{type:Number,default:0}},components:{IconButton:i.Z}},r=o,l=n(1001),u=(0,l.Z)(r,s,a,!1,null,null,null),d=u.exports},4843:function(t,e,n){n.r(e),n.d(e,{default:function(){return C}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"set-editor-content"},[e("EditorContent",{attrs:{editor:t.editor}})],1)},a=[],i=(n(774),n(1083)),o=n(5956),r=n(7900),l=n(2608),u=n(336),d=n(6022),c=n(2701),p=n(7935),m=n(6761),_=n(9404),w=n(353),h=n(3621),g=n(4903),f={name:"tiptap-editor",props:{content:{String:String,default:'<p>\n          Thatâ€™s a boring paragraph followed by a fenced code block:\n        </p>\n        <pre><code class="language-javascript">for (var i=1; i <= 20; i++)\n{\n  if (i % 15 == 0)\n    // console.log("FizzBuzz");\n  else if (i % 3 == 0)\n    // console.log("Fizz");\n  else if (i % 5 == 0)\n    // console.log("Buzz");\n  else\n    // console.log(i);\n}</code></pre>\n        <p>\n          Press Command/Ctrl + Enter to leave the fenced code block and continue typing in boring paragraphs.\n        </p>'},editable:{Boolean:Boolean,default:!0}},components:{EditorContent:p.kg},data:()=>({editor:null}),mounted(){},created(){var t=this;this.editor=new p.ML({extensions:[r.Z,u.Z,d.Z,c.Z,l.Z.extend({addNodeView(){return(0,p.uf)(o.Z)}}).configure({lowlight:i.$}),m.ZP,_.Z.configure({openon_click:!0}),h.Z,w.I,g.Z],content:t.content,onUpdate:({editor:t})=>{}}),this.editor.setEditable(this.editable)},beforeUnmount(){this.editor.destroy()},watch:{content:{handler(t){this.editor.commands.setContent(t)},deep:!0},editable:{handler(t){this.editor.setEditable(t)},deep:!0}}},v=f,$=n(1001),b=(0,$.Z)(v,s,a,!1,null,null,null),C=b.exports}}]);