"use strict";(self["webpackChunkMaterialDesignForum"]=self["webpackChunkMaterialDesignForum"]||[]).push([[4970],{4970:function(e,t,s){s.r(t),s.d(t,{default:function(){return S}});var o=s(3162),n=s(7986),a=function(){var e=this,t=e._self._c;return e.$store.getters["User/GetUser"].user_group.ability_admin_manage_user?t(n.Z,[e.$G_AppIsCanUse()?t(o.Z,{staticClass:"glass-container",attrs:{rounded:"xxl",outlined:e.$vuetify.theme.dark||e.$store.getters.GetDevice.mobile}},[e.$store.getters["User/GetIsLogin"]?t("DataTable",{attrs:{headers:e.headers,type:"users"},on:{edit_item:e.OnEdit}}):e._e()],1):t("NoAllowUse"),t("EditInfoDialog",{attrs:{model:e.edit_user_dialog,user:e.user,is_admin:!0},on:{model:function(t){e.edit_user_dialog=t},edit_user:t=>{e.$store.dispatch("Update/Set_DataTableUpdate",t)}}}),t("Loading",{attrs:{need_margin_bottom:!0,show_text:!1}})],1):e._e()},i=[],l=s(9170),r=s(9387),d=s(4780),u=s(116),c=s(3198),g=s(2762),m=s(9618),h=s(3231),p=s(8561),f=s(9629),_=function(){var e=this,t=e._self._c;return t(c.Z,{staticStyle:{overflow:"hidden"},attrs:{fullscreen:"xs"==e.$vuetify.breakpoint.name,"max-width":"530px",scrollable:""},model:{value:e.vmodel,callback:function(t){e.vmodel=t},expression:"vmodel"}},[null!=e.user?t(o.Z,{class:["edit-info-dialog","glass-container"],staticStyle:{"padding-bottom":"8px",overflow:"hidden"},attrs:{rounded:e.$store.getters.GetDevice.mobile?"0":"xxl",elevation:"0"}},[t("div",{staticClass:"dialog-title",on:{click:function(t){e.vmodel=!e.vmodel}}},[t(d.Z,{staticClass:"close",attrs:{icon:""}},[t(m.Z,[e._v("mdi-close")])],1),e._v(" "+e._s(e.$t("Message.Components.EditInfoDialog.EditInfo"))+" ")],1),t(u.ZB,{staticClass:"dialog-content",style:{height:"xs"!=e.$vuetify.breakpoint.name?"652px":"auto",padding:"0"}},[t(g.Z,{ref:"form"},[e.is_admin?t(p.Z,{attrs:{counter:"100",maxlength:"100",label:e.$t("Message.Components.EditInfoDialog.Email"),placeholder:e.$t("Message.Components.EditInfoDialog.Email"),rules:[t=>!!t||e.$t("Message.Components.EditInfoDialog.CannotBeEmpty"),t=>(t||"").length<=100||e.$t("Message.Components.EditInfoDialog.LengthCannotExceedNCharacters",{value:100})]},model:{value:e.EMail,callback:function(t){e.EMail=t},expression:"EMail"}}):e._e(),t(p.Z,{attrs:{counter:"100",maxlength:"100",label:e.$t("Message.Components.EditInfoDialog.UserName"),placeholder:e.$t("Message.Components.EditInfoDialog.UserName"),rules:[t=>!!t||e.$t("Message.Components.EditInfoDialog.CannotBeEmpty"),t=>(t||"").length<=100||e.$t("Message.Components.EditInfoDialog.LengthCannotExceedNCharacters",{value:100})]},model:{value:e.UserName,callback:function(t){e.UserName=t},expression:"UserName"}}),e.is_admin?t(p.Z,{attrs:{label:e.$t("Message.Admin.UserGroups.UserGroupID"),placeholder:e.$t("Message.Admin.UserGroups.UserGroupID")},model:{value:e.UserGroupID,callback:function(t){e.UserGroupID=t},expression:"UserGroupID"}}):e._e(),t(p.Z,{attrs:{counter:"40",maxlength:"40",label:e.$t("Message.Components.EditInfoDialog.OneSentenceIntroduction"),placeholder:e.$t("Message.Components.EditInfoDialog.OneSentenceIntroduction"),rules:[t=>(t||"").length<=40||e.$t("Message.Components.EditInfoDialog.LengthCannotExceedNCharacters",{value:40})]},model:{value:e.OneSentenceIntroduction,callback:function(t){e.OneSentenceIntroduction=t},expression:"OneSentenceIntroduction"}}),t(p.Z,{attrs:{counter:"40",maxlength:"40",label:e.$t("Message.Components.EditInfoDialog.PersonalHomepage"),placeholder:e.$t("Message.Components.EditInfoDialog.PersonalHomepage"),rules:[t=>(t||"").length<=40||e.$t("Message.Components.EditInfoDialog.LengthCannotExceedNCharacters",{value:40})]},model:{value:e.PersonalHomepage,callback:function(t){e.PersonalHomepage=t},expression:"PersonalHomepage"}}),t(p.Z,{attrs:{counter:"80",maxlength:"80",label:e.$t("Message.Components.EditInfoDialog.AffiliatedSchoolOrEnterprise"),placeholder:e.$t("Message.Components.EditInfoDialog.AffiliatedSchoolOrEnterprise"),rules:[t=>(t||"").length<=80||e.$t("Message.Components.EditInfoDialog.LengthCannotExceedNCharacters",{value:40})]},model:{value:e.AffiliatedSchoolOrEnterprise,callback:function(t){e.AffiliatedSchoolOrEnterprise=t},expression:"AffiliatedSchoolOrEnterprise"}}),t(p.Z,{attrs:{counter:"80",maxlength:"80",label:e.$t("Message.Components.EditInfoDialog.Location"),placeholder:e.$t("Message.Components.EditInfoDialog.Location"),rules:[t=>(t||"").length<=80||e.$t("Message.Components.EditInfoDialog.LengthCannotExceedNCharacters",{value:80})]},model:{value:e.Location,callback:function(t){e.Location=t},expression:"Location"}}),t(f.Z,{attrs:{counter:"160",maxlength:"160",label:e.$t("Message.Components.EditInfoDialog.PersonalIntroduction"),hint:e.$t("Message.Components.EditInfoDialog.PersonalIntroduction"),rules:[t=>(t||"").length<=160||e.$t("Message.Components.EditInfoDialog.LengthCannotExceedNCharacters",{value:160})]},model:{value:e.PersonalIntroduction,callback:function(t){e.PersonalIntroduction=t},expression:"PersonalIntroduction"}})],1)],1),t(u.h7,[t(h.Z),t("Cancel",{attrs:{text:e.$t("Message.Components.EditInfoDialog.Cancel")},on:{cancel:function(t){e.vmodel=!e.vmodel}}}),t("Confirm",{attrs:{loading:e.is_loading,text:e.$t("Message.Components.EditInfoDialog.Save")},on:{confirm:function(t){return e.OnSubmitEditInfo()}}})],1)],1):e._e()],1)},v=[],x=s(7323),$=s(5812),C=s(7079),M={name:"edit-info-dialog",props:{user:{type:Object,default:null},model:{type:Boolean,default:!1},is_admin:{type:Boolean,default:!1}},data:()=>({vmodel:!1,EMail:"",UserName:"",UserGroupID:"",OneSentenceIntroduction:"",PersonalHomepage:"",AffiliatedSchoolOrEnterprise:"",Location:"",PersonalIntroduction:"",is_loading:!1}),components:{Confirm:x.Z,Cancel:$.Z},watch:{user:{handler:function(e,t){null!=e&&(this.EMail=e.email,this.UserName=e.username,this.UserGroupID=e.user_group_id,this.OneSentenceIntroduction=e.headline,this.PersonalHomepage=e.blog,this.AffiliatedSchoolOrEnterprise=e.company,this.Location=e.location,this.PersonalIntroduction=e.bio)},deep:!0},model(e){this.vmodel=e},vmodel(e){0==e&&this.$emit("model",e)}},methods:{async OnSubmitEditInfo(){if(this.is_loading)return;if(this.is_loading=!0,0==this.$refs.form.validate()||null==this.user)return;const e=await(0,C.Y$)({email:this.EMail,username:this.UserName,user_group_id:this.UserGroupID,headline:this.OneSentenceIntroduction||"",blog:this.PersonalHomepage||"",company:this.AffiliatedSchoolOrEnterprise||"",location:this.Location||"",bio:this.PersonalIntroduction||"",edit_target_user_id:this.user.user_id,user_token:this.$G_GetUserToken()});e.data.is_edit&&(this.$emit("edit_user",e.data.user),this.vmodel=!1),this.is_loading=!1}}},U=M,I=s(1001),E=(0,I.Z)(U,_,v,!1,null,null,null),b=E.exports,A={name:"admin-page-users",components:{DataTable:l.Z,Loading:r["default"],EditInfoDialog:b,NoAllowUse:()=>s.e(8819).then(s.bind(s,8819))},data:()=>({user:null,edit_user_dialog:!1}),computed:{headers(){var e=[{text:this.$t("Message.Admin.Users.UserID"),align:"start",value:"user_id"},{text:this.$t("Message.Admin.Users.UserGroupID"),value:"user_group_id"},{text:this.$t("Message.Admin.Users.User"),value:"localuser"},{text:this.$t("Message.Admin.Users.Email"),value:"email"},{text:this.$t("Message.Admin.Users.CreateIP"),value:"create_ip"},{text:this.$t("Message.Admin.Users.CreateLocation"),value:"create_location"},{text:this.$t("Message.Admin.Users.LastLoginTime"),value:"last_login_time"},{text:this.$t("Message.Admin.Users.LastLoginIP"),value:"last_login_ip"},{text:this.$t("Message.Admin.Users.LastLoginLocation"),value:"last_login_location"},{text:this.$t("Message.Admin.Users.FollowerCount"),value:"follower_count"},{text:this.$t("Message.Admin.Users.FolloweeCount"),value:"followee_count"},{text:this.$t("Message.Admin.Users.FollowingTopicCount"),value:"following_topic_count"},{text:this.$t("Message.Admin.Users.FollowingArticleCount"),value:"following_article_count"},{text:this.$t("Message.Admin.Users.FollowingQuestionCount"),value:"following_question_count"},{text:this.$t("Message.Admin.Users.ArticleCount"),value:"article_count"},{text:this.$t("Message.Admin.Users.QuestionCount"),value:"question_count"},{text:this.$t("Message.Admin.Users.AnswerCount"),value:"answer_count"},{text:this.$t("Message.Admin.Users.CommentCount"),value:"comment_count"},{text:this.$t("Message.Admin.Users.ReplyCount"),value:"reply_count"},{text:this.$t("Message.Admin.Users.NotificationUnread"),value:"notification_unread"},{text:this.$t("Message.Admin.Users.InboxSystem"),value:"inbox_system"},{text:this.$t("Message.Admin.Users.InboxUserGroup"),value:"inbox_user_group"},{text:this.$t("Message.Admin.Users.InboxPrivateMessage"),value:"inbox_private_message"},{text:this.$t("Message.Admin.Users.Headline"),value:"headline"},{text:this.$t("Message.Admin.Users.Bio"),value:"bio"},{text:this.$t("Message.Admin.Users.Blog"),value:"blog"},{text:this.$t("Message.Client.User.User.AffiliatedSchoolOrEnterprise"),value:"company"},{text:this.$t("Message.Admin.Users.Location"),value:"location"},{text:this.$t("Message.Admin.Users.CreateTime"),value:"create_time"},{text:this.$t("Message.Admin.Users.UpdateTime"),value:"update_time"},{text:this.$t("Message.Admin.Users.DisableTime"),value:"disable_time"}];return e}},methods:{OnEdit(e){this.user=e,this.edit_user_dialog=!0}}},D=A,L=(0,I.Z)(D,a,i,!1,null,null,null),S=L.exports}}]);