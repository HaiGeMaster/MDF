"use strict";(self["webpackChunkMaterialDesignForum"]=self["webpackChunkMaterialDesignForum"]||[]).push([[6561,7929],{7929:function(o,t,l){l.r(t),l.d(t,{default:function(){return f}});var e=l(4780),i=l(9618),s=l(3468),a=function(){var o=this,t=o._self._c;return t(s.Z,{attrs:{bottom:""},scopedSlots:o._u([{key:"activator",fn:function({on:l,attrs:s}){return[t(e.Z,o._g(o._b({directives:[{name:"show",rawName:"v-show",value:!(o.$G_GetUserID()==o.followable_id&&"user"==o.followable_type),expression:"!($G_GetUserID() == followable_id && followable_type == 'user') "}],staticClass:"mc-follow",attrs:{icon:"",outlined:"",fab:"",small:"",color:o.$vuetify.theme.dark?"grey darken-3":"grey lighten-1",loading:o.is_loading},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),o.OnFollowClickCallback()}}},"v-btn",s,!1),l),[t(i.Z,{attrs:{color:o.IsFollow?"primary":"grey darken-1"}},[o._v(o._s(o.IsFollow?"mdi-star":"mdi-star-outline"))])],1)]}}])},[t("span",[o._v(o._s(o.IsFollow?o.$t("Message.Components.Follow.Unfollow"):o.$t("Message.Components.Follow.Follow")))])])},n=[],r=l(7079),c={name:"follow",props:{followable_type:String,followable_id:Number,is_follow:{type:Boolean,default:!1},show:{type:Boolean,default:!0}},data:()=>({IsFollow:!1,is_loading:!1}),created(){this.IsFollow=this.is_follow},methods:{async OnFollowClickCallback(){if(!this.$store.getters["User/GetIsLogin"])return void this.$store.dispatch("Dialog/Set_LoginDialog",!0);this.is_loading=!0;const o=await(0,r.j9)({followable_type:this.followable_type,followable_id:this.followable_id,user_token:this.$G_GetUserToken()});1==o.data.is_follow?this.IsFollow=!0:this.IsFollow=!1,this.is_loading=!1,this.$forceUpdate()}}},p=c,d=l(1001),u=(0,d.Z)(p,a,n,!1,null,null,null),f=u.exports},6561:function(o,t,l){l.r(t),l.d(t,{default:function(){return f}});var e=l(4780),i=l(3162),s=l(3913),a=function(){var o=this,t=o._self._c;return t("div",{staticClass:"mc-topic-item item-inner"},[t(i.Z,{staticClass:"glass-container item",attrs:{to:`${o.$G_UrlHeaderLang()}/topics/${o.topic.topic_id}`,rounded:"xxl",outlined:""}},[t(s.Z,{attrs:{src:o.$G_ImgHandle(o.topic.cover.middle)||l(129),height:"160px"}}),t("div",{staticClass:"mc-info h6",staticStyle:{padding:"16px"}},[o._v(" "+o._s(o.topic.name)+" ")]),t("div",{staticClass:"actions"},[t("Follow",{attrs:{followable_type:"topic",followable_id:o.topic.topic_id,is_follow:o.topic.is_follow}}),t(e.Z,{staticClass:"followers rounded-xxl",attrs:{text:""},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),o.$store.dispatch("Dialog/Set_UsersDialog",{id:o.topic.topic_id,type:"topic",modes:"followers",model:!0})}}},[o._v(" "+o._s(o.$t("Message.Components.TpoicItem.Followers",{value:o.topic.follower_count}))+" ")])],1)],1)],1)},n=[],r=l(7929),c={props:{topic:{type:Object,default:()=>({topic_id:0,name:"话题1",cover:{original:"",small:"",middle:"",large:""},follower_count:0})}},components:{Follow:r["default"]}},p=c,d=l(1001),u=(0,d.Z)(p,a,n,!1,null,null,null),f=u.exports},129:function(o,t,l){o.exports=l.p+"public/themes/MaterialDesignVuetify2/img/MDF-BG-1450-812.2518073c.png"}}]);