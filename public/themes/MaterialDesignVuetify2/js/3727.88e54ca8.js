"use strict";(self["webpackChunkMaterialDesignForum"]=self["webpackChunkMaterialDesignForum"]||[]).push([[3727],{5812:function(e,t,o){o.d(t,{Z:function(){return c}});var n=o(4780),a=function(){var e=this,t=e._self._c;return t(n.Z,{attrs:{text:"",outlined:"",rounded:"",loading:e.loading,disabled:e.disabled,color:"accent"},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" "+e._s(e.text||e.$t("Message.Components.CropperDialog.Cancel"))+" ")])},s=[],i={props:{text:{type:String,default:""},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}},l=i,r=o(1001),u=(0,r.Z)(l,a,s,!1,null,null,null),c=u.exports},7323:function(e,t,o){o.d(t,{Z:function(){return c}});var n=o(4780),a=function(){var e=this,t=e._self._c;return t(n.Z,{attrs:{depressed:"",rounded:"",loading:e.loading,disabled:e.disabled,color:"primary"},on:{click:function(t){return e.$emit("confirm")}}},[e._v(" "+e._s(e.text||e.$t("Message.Components.CropperDialog.Confirm"))+" ")])},s=[],i={props:{text:{type:String,default:""},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}},l=i,r=o(1001),u=(0,r.Z)(l,a,s,!1,null,null,null),c=u.exports},3727:function(e,t,o){o.r(t);var n=o(7905),a=o(8097),s=(o(9201),o(1001)),i=(0,s.Z)(a.Z,n.s,n.x,!1,null,null,null);t["default"]=i.exports},9201:function(e,t,o){o(8595)},8097:function(e,t,o){var n=o(2428);t.Z=n.Z},8595:function(){},2428:function(e,t,o){var n=o(7323),a=o(5812),s=o(7079);t.Z={name:"edit-info-dialog",props:{user:{type:Object,default:null},model:{type:Boolean,default:!1},is_admin:{type:Boolean,default:!1}},data:()=>({vmodel:!1,EMail:"",UserName:"",UserGroupID:"",OneSentenceIntroduction:"",PersonalHomepage:"",AffiliatedSchoolOrEnterprise:"",Location:"",PersonalIntroduction:"",is_loading:!1}),components:{Confirm:n.Z,Cancel:a.Z},watch:{user:{handler:function(e,t){null!=e&&(this.EMail=e.email,this.UserName=e.username,this.UserGroupID=e.user_group_id,this.OneSentenceIntroduction=e.headline,this.PersonalHomepage=e.blog,this.AffiliatedSchoolOrEnterprise=e.company,this.Location=e.location,this.PersonalIntroduction=e.bio)},deep:!0},model(e){this.vmodel=e},vmodel(e){0==e&&this.$emit("model",e)}},methods:{async OnSubmitEditInfo(){if(this.is_loading)return;if(this.is_loading=!0,0==this.$refs.form.validate()||null==this.user)return;const e=await(0,s.Y$)({email:this.EMail,username:this.UserName,user_group_id:this.UserGroupID,headline:this.OneSentenceIntroduction||"",blog:this.PersonalHomepage||"",company:this.AffiliatedSchoolOrEnterprise||"",location:this.Location||"",bio:this.PersonalIntroduction||"",edit_target_user_id:this.user.user_id,user_token:this.$G_GetUserToken()});e.data.is_edit&&(this.$emit("edit_user",e.data.user),this.vmodel=!1),this.is_loading=!1}}}},9629:function(e,t,o){o.d(t,{Z:function(){return i}});var n=o(8561),a=o(5218);const s=(0,a.Z)(n.Z);var i=s.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:e=>!isNaN(parseFloat(e))},rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseInt(e,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...n.Z.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(e){this.$nextTick((()=>{var t;e?this.calculateInputHeight():null===(t=this.$refs.input)||void 0===t||t.style.removeProperty("height")}))},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout((()=>{this.autoGrow&&this.calculateInputHeight()}),0)},methods:{calculateInputHeight(){const e=this.$refs.input;if(!e)return;e.style.height="0";const t=e.scrollHeight,o=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(o,t)+"px"},genInput(){const e=n.Z.options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput(e){n.Z.options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},7905:function(e,t,o){o.d(t,{s:function(){return p},x:function(){return g}});var n=o(4780),a=o(3162),s=o(116),i=o(3198),l=o(2762),r=o(9618),u=o(3231),c=o(8561),d=o(9629),p=function(){var e=this,t=e._self._c;return t(i.Z,{staticStyle:{overflow:"hidden"},attrs:{fullscreen:"xs"==e.$vuetify.breakpoint.name,"max-width":"530px",scrollable:""},model:{value:e.vmodel,callback:function(t){e.vmodel=t},expression:"vmodel"}},[null!=e.user?t(a.Z,{class:["edit-info-dialog","glass-container"],staticStyle:{"padding-bottom":"8px",overflow:"hidden"},attrs:{rounded:e.$store.getters.GetDevice.mobile?"0":"xxl",elevation:"0"}},[t("div",{staticClass:"dialog-title",on:{click:function(t){e.vmodel=!e.vmodel}}},[t(n.Z,{staticClass:"close",attrs:{icon:""}},[t(r.Z,[e._v("mdi-close")])],1),e._v(" "+e._s(e.$t("Message.Components.EditInfoDialog.EditInfo"))+" ")],1),t(s.ZB,{staticClass:"dialog-content",style:{height:"xs"!=e.$vuetify.breakpoint.name?"652px":"auto",padding:"0"}},[t(l.Z,{ref:"form"},[e.is_admin?t(c.Z,{attrs:{counter:"100",maxlength:"100",label:e.$t("Message.Components.EditInfoDialog.Email"),placeholder:e.$t("Message.Components.EditInfoDialog.Email"),rules:[t=>!!t||e.$t("Message.Components.EditInfoDialog.CannotBeEmpty"),t=>(t||"").length<=100||e.$t("Message.Components.EditInfoDialog.LengthCannotExceedNCharacters",{value:100})]},model:{value:e.EMail,callback:function(t){e.EMail=t},expression:"EMail"}}):e._e(),t(c.Z,{attrs:{counter:"100",maxlength:"100",label:e.$t("Message.Components.EditInfoDialog.UserName"),placeholder:e.$t("Message.Components.EditInfoDialog.UserName"),rules:[t=>!!t||e.$t("Message.Components.EditInfoDialog.CannotBeEmpty"),t=>(t||"").length<=100||e.$t("Message.Components.EditInfoDialog.LengthCannotExceedNCharacters",{value:100})]},model:{value:e.UserName,callback:function(t){e.UserName=t},expression:"UserName"}}),e.is_admin?t(c.Z,{attrs:{label:e.$t("Message.Admin.UserGroups.UserGroupID"),placeholder:e.$t("Message.Admin.UserGroups.UserGroupID")},model:{value:e.UserGroupID,callback:function(t){e.UserGroupID=t},expression:"UserGroupID"}}):e._e(),t(c.Z,{attrs:{counter:"40",maxlength:"40",label:e.$t("Message.Components.EditInfoDialog.OneSentenceIntroduction"),placeholder:e.$t("Message.Components.EditInfoDialog.OneSentenceIntroduction"),rules:[t=>(t||"").length<=40||e.$t("Message.Components.EditInfoDialog.LengthCannotExceedNCharacters",{value:40})]},model:{value:e.OneSentenceIntroduction,callback:function(t){e.OneSentenceIntroduction=t},expression:"OneSentenceIntroduction"}}),t(c.Z,{attrs:{counter:"40",maxlength:"40",label:e.$t("Message.Components.EditInfoDialog.PersonalHomepage"),placeholder:e.$t("Message.Components.EditInfoDialog.PersonalHomepage"),rules:[t=>(t||"").length<=40||e.$t("Message.Components.EditInfoDialog.LengthCannotExceedNCharacters",{value:40})]},model:{value:e.PersonalHomepage,callback:function(t){e.PersonalHomepage=t},expression:"PersonalHomepage"}}),t(c.Z,{attrs:{counter:"80",maxlength:"80",label:e.$t("Message.Components.EditInfoDialog.AffiliatedSchoolOrEnterprise"),placeholder:e.$t("Message.Components.EditInfoDialog.AffiliatedSchoolOrEnterprise"),rules:[t=>(t||"").length<=80||e.$t("Message.Components.EditInfoDialog.LengthCannotExceedNCharacters",{value:40})]},model:{value:e.AffiliatedSchoolOrEnterprise,callback:function(t){e.AffiliatedSchoolOrEnterprise=t},expression:"AffiliatedSchoolOrEnterprise"}}),t(c.Z,{attrs:{counter:"80",maxlength:"80",label:e.$t("Message.Components.EditInfoDialog.Location"),placeholder:e.$t("Message.Components.EditInfoDialog.Location"),rules:[t=>(t||"").length<=80||e.$t("Message.Components.EditInfoDialog.LengthCannotExceedNCharacters",{value:80})]},model:{value:e.Location,callback:function(t){e.Location=t},expression:"Location"}}),t(d.Z,{attrs:{counter:"160",maxlength:"160",label:e.$t("Message.Components.EditInfoDialog.PersonalIntroduction"),hint:e.$t("Message.Components.EditInfoDialog.PersonalIntroduction"),rules:[t=>(t||"").length<=160||e.$t("Message.Components.EditInfoDialog.LengthCannotExceedNCharacters",{value:160})]},model:{value:e.PersonalIntroduction,callback:function(t){e.PersonalIntroduction=t},expression:"PersonalIntroduction"}})],1)],1),t(s.h7,[t(u.Z),t("Cancel",{attrs:{text:e.$t("Message.Components.EditInfoDialog.Cancel")},on:{cancel:function(t){e.vmodel=!e.vmodel}}}),t("Confirm",{attrs:{loading:e.is_loading,text:e.$t("Message.Components.EditInfoDialog.Save")},on:{confirm:function(t){return e.OnSubmitEditInfo()}}})],1)],1):e._e()],1)},g=[]}}]);