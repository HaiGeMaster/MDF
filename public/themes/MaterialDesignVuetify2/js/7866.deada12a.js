"use strict";(self["webpackChunkMaterialDesignForum"]=self["webpackChunkMaterialDesignForum"]||[]).push([[7866],{3985:function(e,t,s){s.d(t,{Z:function(){return m}});var i=s(4780),o=s(8561),a=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"send-email-field"},[t(o.Z,{staticClass:"captcha-field",attrs:{label:e.label||e.$t("Message.Components.Account.EMailCode"),required:e.required,type:"text",filled:"",rules:[t=>!!t||e.$t("Message.Components.Account.CannotBeEmpty"),t=>(t||"").length<=6||e.$t("Message.Components.Account.MaxLengthExceeded")]},scopedSlots:e._u([{key:"append-outer",fn:function(){return[t(i.Z,{staticClass:"send-email",attrs:{loading:e.is_loading,text:""},on:{click:function(t){return e.OnSendEmailClick()}},scopedSlots:e._u([{key:"loader",fn:function(){return[t("span",[e._v(e._s(e.Loading_Time))])]},proxy:!0}])},[e._v(" "+e._s(e.$t("Message.Components.Account.SendEMailCode"))+" ")])]},proxy:!0}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},n=[],l=s(7079),c={name:"common-account-field-email-code",props:{label:{type:String,default:""},required:{type:Boolean,default:!0},show:{type:Boolean,default:!0},email:{type:String,default:""}},data:()=>({value:"",show_resend_countdown:!1,is_loading:!1,Loading_Time:0}),methods:{async OnSendEmailClick(){this.is_loading=!0,this.Loading_Time=60;const e=await(0,l.jF)(this.email,this.$i18n.locale);1==e.data.is_send||(this.is_loading=!1,this.Loading_Time=0)}},watch:{value:function(e){this.$emit("input",e)},Loading_Time:function(e){if(this.is_loading)if(0!=e){if(!this.is_loading)return void(this.Loading_Time=0);setTimeout((()=>{this.Loading_Time=e-1}),1e3)}else this.is_loading=!1;else this.Loading_Time=0}}},r=c,d=s(1001),u=(0,d.Z)(r,a,n,!1,null,null,null),m=u.exports},3942:function(e,t,s){s.d(t,{Z:function(){return d}});var i=s(8561),o=function(){var e=this,t=e._self._c;return t(i.Z,{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{label:e.label||e.$t("Message.Components.Account.EMail"),required:e.required,filled:"",rules:[t=>!!t||e.$t("Message.Components.Account.CannotBeEmpty"),t=>/^[^@\s]+@[^@\s]+\.[a-zA-Z]{2,}$/.test(t)||e.$t("Message.Components.Account.EMailError"),t=>(t||"").length<=100||e.$t("Message.Components.Account.MaxLengthExceeded")]},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})},a=[],n={name:"common-account-field-email",props:{label:{type:String,default:""},required:{type:Boolean,default:!0},show:{type:Boolean,default:!0}},data:()=>({value:""}),watch:{value:function(e){this.$emit("input",e)}}},l=n,c=s(1001),r=(0,c.Z)(l,o,a,!1,null,null,null),d=r.exports},7866:function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});var i=s(3162),o=s(116),a=s(3198),n=s(2762),l=function(){var e=this,t=e._self._c;return t(a.Z,{attrs:{scrollable:"","max-width":"380px",elevation:"0"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[t(i.Z,{staticClass:"glass-container",attrs:{rounded:""}},[t(o.EB,{staticClass:"h5"},[e._v(e._s(e.$t("Message.Components.Account.ForgetPassword")))]),t(o.ZB,[t(n.Z,{ref:"form"},[t("FieldEMail",{key:"Reset-FieldEMail",attrs:{show:!e.NextStep,label:e.$t("Message.Components.Account.EMail")},on:{input:t=>{e.EMail=t}}}),t("FieldEmailCode",{key:"Reset-FieldEmailCode",attrs:{email:e.EMail,show:!e.NextStep,label:e.$t("Message.Components.Account.EMailCode")},on:{input:t=>{e.EmailCode=t}}}),e.NextStep?t("FieldPassword",{key:"Reset-FieldPassword",attrs:{label:e.$t("Message.Components.Account.Password")},on:{input:t=>{e.Password=t}}}):e._e(),t("Submit",{attrs:{text:e.$t("Message.Components.Account.NextStep"),show:!e.NextStep,colors:"accent"},on:{submit_click:e.OnNextStep}}),t("Submit",{attrs:{text:e.$t("Message.Components.Account.BackStep"),show:e.NextStep,classes:"more-option",is_text:!0,colors:"accent"},on:{submit_click:function(t){e.NextStep=!e.NextStep}}}),t("Submit",{attrs:{text:e.$t("Message.Components.Account.Reset"),show:e.NextStep,colors:"accent",loading:e.is_loading},on:{submit_click:e.OnSubmit}}),t("br"),t("FieldMore",{attrs:{items:e.FieldMoreItems,show:!e.NextStep},on:{item_select:e.item_select}})],1)],1)],1)],1)},c=[],r=s(3942),d=s(3985),u=s(7730),m=s(5939),p=s(4664),g=s(7079),h={name:"reset-dialog",data:()=>({is_loading:!1,EMail:"",Password:"",EmailCode:"",NextStep:!1,FieldMoreItems:[{text:"Message.Components.Account.Login",value:"Login"},{text:"Message.Components.Account.Register",value:"Register"}],model:!1}),components:{FieldEMail:r.Z,FieldEmailCode:d.Z,FieldPassword:u.Z,FieldMore:m.Z,Submit:p.Z},methods:{item_select(e){switch(this.$store.dispatch("Dialog/Set_ResetDialog",!1),e){case"Login":this.$store.dispatch("Dialog/Set_LoginDialog",!0);break;case"Register":this.$store.dispatch("Dialog/Set_RegisterDialog",!0);break}},OnNextStep(){this.validate()&&(this.NextStep=!0)},async OnSubmit(){if(console.log("OnSubmit"),!this.validate())return;this.is_loading=!0;const e=await(0,g.AG)({email:this.EMail,password:this.Password,email_captcha:this.EmailCode});1==e.data.is_reset?(this.loading=!1,this.$store.dispatch("Dialog/Set_ResetDialog",!1)):this.loading=!1},validate(){return this.$refs.form.validate()}},computed:{Store_DialogGetResetDialog(){return this.$store.getters["Dialog/GetResetDialog"]}},watch:{Store_DialogGetResetDialog(e){this.model=e},model(e){e||this.$store.dispatch("Dialog/Set_ResetDialog",!1)}}},_=h,f=s(1001),w=(0,f.Z)(_,l,c,!1,null,null,null),x=w.exports}}]);